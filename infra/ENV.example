# Bolt IT Infrastructure Configuration
# 
# This file contains all AWS resource ARNs, names, and configuration values
# created during infrastructure provisioning. Copy this to ENV.dev, ENV.staging,
# or ENV.prod and fill in actual values for each environment.

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=pilot
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=123456789012

# =============================================================================
# S3 BUCKETS
# =============================================================================
# Main artifact storage bucket (models, retrain artifacts, manifests)
S3_ARTIFACTS_BUCKET=boltit-artifacts-pilot
S3_ARTIFACTS_BUCKET_ARN=arn:aws:s3:::boltit-artifacts-pilot

# Backup bucket (database backups, audit log exports, disaster recovery)
S3_BACKUPS_BUCKET=boltit-backups-pilot
S3_BACKUPS_BUCKET_ARN=arn:aws:s3:::boltit-backups-pilot

# CloudWatch Logs export bucket (optional, for long-term log retention)
S3_LOGS_BUCKET=boltit-logs-pilot
S3_LOGS_BUCKET_ARN=arn:aws:s3:::boltit-logs-pilot

# =============================================================================
# KMS ENCRYPTION
# =============================================================================
# Primary KMS key for S3 encryption and secrets
KMS_KEY_ID=12345678-1234-1234-1234-123456789012
KMS_KEY_ARN=arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012
KMS_KEY_ALIAS=alias/boltit-pilot

# =============================================================================
# ECR REPOSITORIES
# =============================================================================
ECR_REPOSITORY_API=boltit-api
ECR_REPOSITORY_API_URI=123456789012.dkr.ecr.us-east-1.amazonaws.com/boltit-api

ECR_REPOSITORY_MODEL=boltit-model
ECR_REPOSITORY_MODEL_URI=123456789012.dkr.ecr.us-east-1.amazonaws.com/boltit-model

ECR_REPOSITORY_WORKER=boltit-worker
ECR_REPOSITORY_WORKER_URI=123456789012.dkr.ecr.us-east-1.amazonaws.com/boltit-worker

# =============================================================================
# IAM ROLES AND POLICIES
# =============================================================================
# EC2 instance role (attached to pilot EC2 instance)
EC2_INSTANCE_ROLE_NAME=ec2-boltit-pilot-role
EC2_INSTANCE_ROLE_ARN=arn:aws:iam::123456789012:role/ec2-boltit-pilot-role
EC2_INSTANCE_PROFILE_NAME=ec2-boltit-pilot-profile
EC2_INSTANCE_PROFILE_ARN=arn:aws:iam::123456789012:instance-profile/ec2-boltit-pilot-profile

# CI/CD deployment role (used by GitHub Actions)
CICD_ROLE_NAME=github-actions-boltit-deploy
CICD_ROLE_ARN=arn:aws:iam::123456789012:role/github-actions-boltit-deploy

# Retrain worker role (optional, if worker runs on separate instance)
WORKER_ROLE_NAME=boltit-worker-role
WORKER_ROLE_ARN=arn:aws:iam::123456789012:role/boltit-worker-role

# =============================================================================
# EC2 INSTANCE
# =============================================================================
EC2_INSTANCE_ID=i-0123456789abcdef0
EC2_INSTANCE_TYPE=m6i.large
EC2_AMI_ID=ami-0123456789abcdef0  # Ubuntu 22.04 LTS
EC2_KEY_PAIR_NAME=boltit-pilot-key
EC2_PUBLIC_IP=54.123.45.67
EC2_PRIVATE_IP=10.0.1.100

# Security group
EC2_SECURITY_GROUP_ID=sg-0123456789abcdef0
EC2_SECURITY_GROUP_NAME=boltit-pilot-sg

# =============================================================================
# NETWORKING
# =============================================================================
VPC_ID=vpc-0123456789abcdef0
SUBNET_PUBLIC_ID=subnet-0123456789abcdef0
SUBNET_PRIVATE_ID=subnet-0fedcba987654321
INTERNET_GATEWAY_ID=igw-0123456789abcdef0

# Application Load Balancer (optional, for production)
ALB_ARN=arn:aws:elasticloadbalancing:us-east-1:123456789012:loadbalancer/app/boltit-pilot/1234567890abcdef
ALB_DNS_NAME=boltit-pilot-1234567890.us-east-1.elb.amazonaws.com
ALB_SECURITY_GROUP_ID=sg-0fedcba987654321

# =============================================================================
# RDS / POSTGRES (optional, if using RDS instead of Docker Postgres)
# =============================================================================
RDS_INSTANCE_ID=boltit-pilot-db
RDS_ENDPOINT=boltit-pilot-db.c1234567890ab.us-east-1.rds.amazonaws.com:5432
RDS_INSTANCE_ARN=arn:aws:rds:us-east-1:123456789012:db:boltit-pilot-db
RDS_SECURITY_GROUP_ID=sg-0123456789abcdef1

# =============================================================================
# SECRETS MANAGER
# =============================================================================
# Database credentials secret
SECRET_DB_CREDENTIALS_NAME=boltit/pilot/db-credentials
SECRET_DB_CREDENTIALS_ARN=arn:aws:secretsmanager:us-east-1:123456789012:secret:boltit/pilot/db-credentials-AbCdEf

# API keys master secret (for API key generation)
SECRET_API_MASTER_KEY_NAME=boltit/pilot/api-master-key
SECRET_API_MASTER_KEY_ARN=arn:aws:secretsmanager:us-east-1:123456789012:secret:boltit/pilot/api-master-key-GhIjKl

# =============================================================================
# CLOUDWATCH
# =============================================================================
# Log groups
CLOUDWATCH_LOG_GROUP_API=/aws/boltit/pilot/api
CLOUDWATCH_LOG_GROUP_MODEL=/aws/boltit/pilot/model
CLOUDWATCH_LOG_GROUP_WORKER=/aws/boltit/pilot/worker

# Alarm SNS topic (for alerting)
SNS_ALARM_TOPIC_NAME=boltit-pilot-alarms
SNS_ALARM_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:boltit-pilot-alarms

# =============================================================================
# ROUTE53 (optional, for custom domain)
# =============================================================================
ROUTE53_HOSTED_ZONE_ID=Z1234567890ABC
DOMAIN_NAME=api.boltit.example.com
DOMAIN_CERTIFICATE_ARN=arn:aws:acm:us-east-1:123456789012:certificate/12345678-1234-1234-1234-123456789012

# =============================================================================
# ELASTICACHE REDIS (optional, for rate limiting and caching)
# =============================================================================
REDIS_CLUSTER_ID=boltit-pilot-redis
REDIS_ENDPOINT=boltit-pilot-redis.abcdef.0001.use1.cache.amazonaws.com:6379
REDIS_SECURITY_GROUP_ID=sg-0123456789abcdef2

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
DOCKER_COMPOSE_PATH=/opt/boltit/deploy
SYSTEMD_SERVICE_NAME=boltit-compose.service

# Application URLs
API_BASE_URL=https://api.boltit.example.com
KIOSK_BASE_URL=https://kiosk.boltit.example.com

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================
BACKUP_RETENTION_DAYS=30
DB_SNAPSHOT_SCHEDULE="0 2 * * *"  # Daily at 2 AM UTC
ARTIFACT_RETENTION_DAYS=365

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================
# Prometheus (if using external Prometheus)
PROMETHEUS_ENDPOINT=http://prometheus.internal:9090

# Grafana (if using external Grafana)
GRAFANA_ENDPOINT=https://grafana.boltit.example.com

# PagerDuty integration key (for critical alerts)
PAGERDUTY_INTEGRATION_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# =============================================================================
# COST TAGS (for AWS cost allocation)
# =============================================================================
TAG_PROJECT=BoltIT
TAG_ENVIRONMENT=pilot
TAG_OWNER=cursor-devops
TAG_COST_CENTER=engineering
TAG_COMPLIANCE=none  # Set to 'govcloud' for GovCloud deployments

# =============================================================================
# TERRAFORM STATE (if using remote state)
# =============================================================================
TERRAFORM_STATE_BUCKET=boltit-terraform-state
TERRAFORM_STATE_KEY=pilot/terraform.tfstate
TERRAFORM_STATE_REGION=us-east-1
TERRAFORM_STATE_DYNAMODB_TABLE=boltit-terraform-locks

# =============================================================================
# NOTES
# =============================================================================
# - Replace all placeholder values with actual ARNs and IDs from your AWS account
# - Keep this file in version control (with placeholder values)
# - Store actual values in AWS Systems Manager Parameter Store or Secrets Manager
# - Use different files for different environments: ENV.dev, ENV.staging, ENV.prod
# - Never commit real credentials or sensitive data to this file
# - Rotate KMS keys quarterly as per security policy
# - Update this file whenever infrastructure changes occur

# Last Updated: 2025-10-31
# Provisioned By: terraform apply -var-file=pilot.tfvars
# Verified By: DevOps Team
